# Vue 项目公共组件存放方式指南

在 Vue 项目中，公共组件的存放方式通常根据组件复用范围、项目规模及团队规范来决定。以下是几种常见的组织策略：

## 一、项目内部公共组件

### 1. **集中式存放（`src/components` 目录）**

- **`src/components/common/`** - 存放完全通用的基础组件（如按钮、输入框、弹窗等）
- **`src/components/ui/`** - UI框架类组件，与业务逻辑解耦
- **`src/components/business/`** - 业务通用组件（有一定业务含义但多个模块复用）
- **`src/components/features/`** - 按功能特性组织的复合组件

### 2. **按领域/模块分组**

- **`src/modules/`** 下各模块有自己的 `components` 目录
- 公共组件提升到更高层级的共享目录
- 适合大型项目，避免组件过度集中导致维护困难

### 3. **组件分类策略**

- **基础组件** - 完全无状态、无业务依赖
- **布局组件** - 负责页面布局结构
- **业务组件** - 包含特定业务逻辑
- **容器组件** - 负责数据获取和状态管理

## 二、跨项目共享方案

### 1. **私有 npm 包**

- 将组件库打包发布到私有 registry
- 版本控制清晰，便于多项目同步更新
- 需要构建、发布流程

### 2. **Monorepo 结构**

- 使用 pnpm workspaces 或 npm/yarn workspaces
- 多个项目共享同一组件包
- 开发时直接链接，避免发布流程

### 3. **Git Submodule/Subtree**

- 组件库作为独立仓库
- 通过 git 子模块引入主项目
- 配置相对简单，但版本管理稍复杂

## 三、最佳实践建议

### **组件设计原则**

- 单一职责原则
- 合理的 props 接口设计
- 明确的插槽机制
- 完整的类型定义（TypeScript）

### **目录结构示例**

```txt
src/
├── components/
│   ├── base/          # 基础组件（完全通用）
│   ├── ui/            # UI组件（无业务依赖）
│   ├── layout/        # 布局组件
│   └── shared/        # 业务共享组件
├── modules/
│   └── [module-name]/
│       └── components/ # 模块私有组件
└── views/
    └── [page-name]/
        └── components/ # 页面级私有组件
```

### **文件命名规范**

- 组件名：大驼峰（如 `UserProfileCard.vue`）
- 目录名：kebab-case（如 `user-profile`）
- 索引文件：`index.ts` 统一导出

### **组件注册方式**

- 局部引入：按需导入，打包体积小
- 全局注册：基础组件可全局注册，使用方便
- 自动注册：通过构建工具自动注册 `src/components` 下的组件

### **文档与维护**

- 组件文档（README.md 或专用文档站点）
- 示例代码和用法说明
- 变更日志维护

## 四、选择建议

**中小型项目**：采用集中式存放，按组件类型分类即可。

**大型项目**：考虑按领域分组，结合模块化结构，必要时拆分到独立包。

**企业级多项目**：推荐私有 npm 包或 Monorepo 方案，确保组件一致性。

**开源项目**：建立完整组件库，提供详细文档和示例。

关键是根据团队规模、项目复杂度和维护需求选择合适方案，保持一致性比选择"完美"方案更重要。
