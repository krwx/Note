# 手动设置表单控件的验证错误信息

可以设置 `el-form-item` 组件的 `error` 属性手动设置验证错误信息。它**主要用于显示一个临时的、可能不依赖于原有校验规则的错误提示**。

需要注意的是，仅设置 `error` 属性**可能不会改变表单内部的验证状态**，表单的 `validate` 方法可能依然会返回通过 。所以需要在提交表单的时候手动验证相关表单控件的值。

```html
<template>
  <el-form :model="form" ref="formRef">
    <el-form-item 
      label="用户名" 
      prop="username"
      ref="usernameItemRef" 
      :error="usernameError" <!-- 绑定错误信息 -->
    >
      <el-input v-model="form.username" />
    </el-form-item>
    <el-button @click="triggerCustomError">触发自定义错误</el-button>
    <el-button @click="clearCustomError">清除自定义错误</el-button>
  </el-form>
</template>

<script setup lang="ts">
import { ref, reactive } from 'vue';
import { ElForm, ElFormItem } from 'element-plus';

const form = reactive({
  username: ''
});
const formRef = ref<InstanceType<typeof ElForm>>();
const usernameItemRef = ref<InstanceType<typeof ElFormItem>>();
const usernameError = ref(''); // 用于绑定错误信息

const triggerCustomError = () => {
  // 设置自定义错误信息
  usernameError.value = '这是一个手动触发的错误！';
};

const clearCustomError = () => {
  // 清除自定义错误
  usernameError.value = '';
};
</script>
```
