# 将 props 传递给路由组件

我们可以将 `route.params` 设置为组件的 `props` 来避免在代码中使用 `route.params`

回到我们之前的示例：

```vue [User.vue]
<template>
  <div>
    User {{ $route.params.id }}
  </div>
</template>
```

和：

```js
import User from './User.vue'

// 传入 `createRouter`
const routes = [
  { path: '/users/:id', component: User },
]
```

1、首先通过声明 `prop` 来在 `User.vue` 中删除对 `$route` 的直接依赖：

```vue
<!-- User.vue -->
<script setup>
defineProps({
  id: String
})
</script>

<template>
  <div>
    User {{ id }}
  </div>
</template>
```

2、然后我们可以通过设置 `props: true` 来配置路由将 `id` 参数作为 prop 传递给组件：

```js
const routes = [
  { path: '/user/:id', component: User, props: true }
]
```

## 命名视图

对于有命名视图的路由，你必须为每个命名视图定义 `props` 配置：

```js
const routes = [
  {
    path: '/user/:id',
    components: { default: User, sidebar: Sidebar },
    props: { default: true, sidebar: false }
  }
]
```

## 布尔模式

当 `props` 设置为 `true` 时，`route.params` 将被设置为组件的 props。

## 对象模式

当 `props` 是一个对象时，这个对象被设置为组件的 props。

```js
const routes = [
  {
    path: '/promotion/from-newsletter',
    component: Promotion,
    props: { newsletterPopup: false }
  }
]
```

## 函数模式

你可以创建一个返回 `props` 的函数。这允许你将参数转换为其他类型。

```js
const routes = [
  {
    path: '/search',
    component: SearchUser,
    props: route => ({ query: route.query.q })
  }
]
```

URL `/search?q=vue` 将传递 `{query: 'vue'}` 作为 props 传给 `SearchUser` 组件。

请尽可能保持 `props` 函数为无状态的，因为它只会在路由发生变化时起作用。
