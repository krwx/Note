# 重定向和别名

## 重定向

重定向也是通过 `routes` 配置来完成，下面例子是从 `/home` 重定向到 `/user`：

```js
const routes = [{ path: '/home', redirect: '/user' }]
```

重定向的目标也可以是一个命名的路由：

```js
const routes = [{ path: '/home', redirect: { name: 'homepage' } }]
```

甚至是一个方法，动态返回重定向目标：

```js
const routes = [
  {
    // /search/screens -> /search?q=screens
    path: '/search/:searchText',
    redirect: to => {
      // 方法接收目标路由作为参数
      // return 重定向的字符串路径/路径对象
      return { path: '/search', query: { q: to.params.searchText } }
    },
  },
]
```

请注意，**导航守卫并没有应用在跳转路由上，而仅仅应用在其目标上**。在上面的例子中，在 `/home` 路由中添加 `beforeEnter` 守卫不会有任何效果。

### 相对重定向

也可以重定向到相对位置：

```js
const routes = [
  {
    // 将总是把/users/123/posts重定向到/users/123/profile。
    path: '/users/:id/posts',
    redirect: to => {
      // 该函数接收目标路由作为参数
      return to.path.replace(/posts$/, 'profile')
    },
  },
]
```

## 别名

**将 `/user` 别名为 `/home`，意味着当用户访问 `/home` 时，实际上是在访问 `/user`，但 URL 仍然是 `/home`。**

上面对应的路由配置为：

```js
const routes = [{ path: '/user', component: Homepage, alias: '/home' }]
```

使别名以 `/` 开头，以使嵌套路径中的路径成为**绝对路径**。

通过别名，你可以自由地将 UI 结构映射到一个任意的 URL，而不受配置的嵌套结构的限制。

```js
// 原本访问 '/users/home' 才能访问到 UserList，但是通过 '/people' 就可以访问到了
const routes = [
  {
    path: '/users',
    component: UsersLayout,
    children: [
      { path: '/home', component: UserList, alias: '/people' },
    ],
  },
]
```

其他例子：

```js
const routes = [
  {
    path: '/users',
    component: UsersLayout,
    children: [
      // 为这 3 个 URL 呈现 UserList
      // - /users
      // - /users/list
      // - /people
      { path: '', component: UserList, alias: ['/people', 'list'] },
    ],
  },
]
```

如果你的路由有参数，请确保在任何绝对别名中包含它们：

```js
const routes = [
  {
    path: '/users/:id',
    component: UsersByIdLayout,
    children: [
      // 为这 3 个 URL 呈现 UserDetails
      // - /users/24
      // - /users/24/profile
      // - /24
      { path: 'profile', component: UserDetails, alias: ['/:id', ''] },
    ],
  },
]
```
