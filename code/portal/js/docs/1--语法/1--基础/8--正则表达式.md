# 正则表达式

- [正则表达式](#正则表达式)
  - [创建一个正则表达式](#创建一个正则表达式)
  - [使用正则表达式](#使用正则表达式)
    - [使用括号的子字符串匹配](#使用括号的子字符串匹配)
    - [通过标志进行高级搜索](#通过标志进行高级搜索)

## 创建一个正则表达式

```javascript
// 方式一：使用字面量语法
const regex1 = /ab+c/;
```

```javascript
// 方式二：使用 RegExp 构造函数
const regex2 = new RegExp('ab+c');
```

## 使用正则表达式

正则表达式可以被用于 `RegExp` 的 `exec` 和 `test` 方法以及 `String` 的 `match`、`replace`、`search` 和 `split` 方法。

|方法|描述|
|--|--|
|exec|一个在字符串中执行查找匹配的 RegExp 方法，它返回一个数组（未匹配到则返回 null）。|
|test|一个在字符串中测试是否匹配的 RegExp 方法，它返回 true 或 false。|
|match|一个在字符串中执行查找匹配的 String 方法，它返回一个数组，在未匹配到时会返回 null。|
|matchAll|一个在字符串中执行查找所有匹配的 String 方法，它返回一个迭代器（iterator）。|
|search|一个在字符串中测试匹配的 String 方法，它返回匹配到的位置索引，或者在失败时返回 -1。|
|replace|一个在字符串中执行查找匹配的 String 方法，并且使用替换字符串替换掉匹配到的子字符串。|
|split|一个使用正则表达式或者一个固定字符串分隔一个字符串，并将分隔后的子字符串存储到数组中的 String 方法。|

使用 `exec()` 在一个字符串中查找一个匹配的例子：

```javascript
var myRe = /d(b+)d/g;
var myArray = myRe.exec("cdbbdbsbz");
// output: [ 'dbbd', 'bb', index: 1, input: 'cdbbdbsbz', groups: undefined ]
```

使用 `test()` ：

```js
var myRe = /d(b+)d/g;
var myTest = myRe.test("dbbd"); // true
var myTest2 = myRe.test("dbbcd"); // false
```

### 使用括号的子字符串匹配

一个正则表达式模式使用括号，将导致相应的子匹配被记住。

例如，`/a(b)c /`可以匹配字符串`“abc”`，并且记得`“b”`。回调这些括号中匹配的子串，使用数组元素 `[1],……[n]`。

下面的脚本使用 `replace()` 方法来转换字符串中的单词。在匹配到的替换文本中，脚本使用替代的 `$1`,`$2` 表示第一个和第二个括号的子字符串匹配。

```js
var re = /(\w+)\s(\w+)/;
var str = "John Smith";
var newstr = str.replace(re, "$2, $1");
console.log(newstr); // Output: "Smith, John"
```

### 通过标志进行高级搜索

|标志|描述|
|--|--|
|g|全局搜索。|
|i|不区分大小写搜索。|
|m|多行搜索。|
|s|允许 `.` 匹配换行符。|
|u|使用 unicode 码的模式进行匹配。|
|y|执行“粘性 (`sticky`)”搜索，匹配从目标字符串的当前位置开始。|
