# 声明

- [声明](#声明)
  - [let、const、var 的区别](#letconstvar-的区别)
  - [全局作用域和块级作用域的区别是什么](#全局作用域和块级作用域的区别是什么)
  - [讲一下作用域链](#讲一下作用域链)

## let、const、var 的区别

- 变量作用域：
  - `var` 声明的变量作用域是全局作用域或者函数作用域.
  - `let` 和 `const` 则拥有块级作用域，这意味着它们的变量只能在其所在的大括号代码块内使用。如果尝试在这些代码块之外访问，则会触发错误。
- 变量提升：
  - `var` 声明的变量会有所谓的“变量提升”，这表示即使声明语句出现在其他代码行的执行之前，变量也会被提前分配内存。
  - `let` 和 `const` 不支持变量提升，因此在声明变量之前不能使用它们。
- 重复声明：
  - `var` 可以被重复声明，这可能会导致一些难以预测的行为。
  - `let` 和 `const` 不允许重复声明，违反这一规则时会报错。
- 初始化和不变性：
  - `let` 和 `const` 必须在声明时进行初始化，而且一旦进行了初始化，它们的值就不能被修改。
  - `var` 声明的变量可以进行重新赋值。
- 块级作用域和非函数级作用域：
  - `let` 和 `const` 都遵循块级作用域，这意味着它们只在各自的代码块内生效，而不是整个函数。
  - `var` 则是函数级的，它在整个函数内都有效。

## 全局作用域和块级作用域的区别是什么

- 全局作用域
  - 最外层函数和最外层函数外面定义的变量拥有全局作用域
  - 所有未定义直接赋值的变量自动声明为全局作用域
  - 所有 window 对象的属性拥有全局作用域
  - 全局作用域有很大的弊端，过多的全局作用域变量会污染全局命名空间，容易引起命名冲突。
- 函数作用域
  - 函数作用域声明在函数内部的变量，一般只有固定的代码片段可以访问到
  - 作用域是分层的，内层作用域可以访问外层作用域，反之不行
- 块级作用域
  - 使用 ES6 中新增的 let 和 const 指令可以声明块级作用域，块级作用域可以在函数中创建也可以在一个代码块中的创建（由{ }包裹的代码片段）

## 讲一下作用域链

作用域链：

在当前作用域中查找所需变量，但是该作用域没有这个变量，那这个变量就是自由变量。如果在自己作用域找不到该变量就去父级作用域查找，依次向上级作用域查找，直到访问到 window 对象就被终止，这一层层的关系就是作用域链。

作用域链的作用是保证对执行环境有权访问的所有变量和函数的有序访问，通过作用域链，可以访问到外层环境的变量和函数。作用域链的本质上是一个指向变量对象的指针列表。  
变量对象是一个包含了执行环境中所有变量和函数的对象。作用域链的前端始终都是当前执行上下文的变量对象。全局执行上下文的变量对象（也就是全局对象）始终是作用域链的最后一个对象。

当查找一个变量时，如果当前执行环境中没有找到，可以沿着作用域链向后查找。
